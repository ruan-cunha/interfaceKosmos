{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = optimize;\n\nasync function optimize(html, config) {\n  let AmpOptimizer;\n\n  try {\n    AmpOptimizer = require('next/dist/compiled/@ampproject/toolbox-optimizer');\n  } catch (_) {\n    return html;\n  }\n\n  const optimizer = AmpOptimizer.create(config);\n  return optimizer.transformHtml(html, config);\n}","map":{"version":3,"sources":["../../server/optimize-amp.ts"],"names":[],"mappings":";;;;;kBAA8B,Q;;eAAA,Q,CAC5B,I,EACA,M,EACiB;AACjB,MAAI,YAAJ;;MACI;AACF,IAAA,YAAY,GAAG,OAAO,CAAA,kDAAA,CAAtB;AACD,G,CAAA,OAAQ,CAAR,EAAW;WACH,I;AACR;;AACD,QAAM,SAAS,GAAG,YAAY,CAAC,MAAb,CAAoB,MAApB,CAAlB;SACO,SAAS,CAAC,aAAV,CAAwB,IAAxB,EAA8B,MAA9B,C;AACR","sourcesContent":["export default async function optimize(\n  html: string,\n  config: any\n): Promise<string> {\n  let AmpOptimizer\n  try {\n    AmpOptimizer = require('next/dist/compiled/@ampproject/toolbox-optimizer')\n  } catch (_) {\n    return html\n  }\n  const optimizer = AmpOptimizer.create(config)\n  return optimizer.transformHtml(html, config)\n}\n"]},"metadata":{},"sourceType":"script"}